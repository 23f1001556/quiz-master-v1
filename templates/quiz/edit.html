{% extends "layout.html" %}

{% block title %}
    Edit Quiz
{% endblock %}

{% block content %}
    <div class="container mt-5">
        <h1 class="text-center mb-4">Edit Quiz: {{ quiz.name }}</h1>
        <form method="POST" class="edit-quiz-form">
            <!-- Quiz Name Input -->
            <div class="form-group">
                <label for="quiz_name" class="font-weight-bold">Quiz Name:</label>
                <input type="text" id="quiz_name" name="quiz_name" class="form-control" value="{{ quiz.name }}" required>
            </div>

            <!-- Questions Section -->
            <div class="questions-section">
                <h3 class="font-weight-bold mt-4">Questions</h3>
                {% for question in quiz.questions %}
                    <div class="question-group border p-3 rounded mb-3">
                        <input type="hidden" name="question_id" value="{{ question.id }}">

                        <div class="form-group">
                            <label for="question_statement_{{ question.id }}">Question Text:</label>
                            <textarea id="question_statement_{{ question.id }}" name="question_statement_{{ question.id }}" class="form-control" required>{{ question.question_statement }}</textarea>
                        </div>

                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="option_1_{{ question.id }}">Option 1:</label>
                                    <input type="text" id="option_1_{{ question.id }}" name="option_1_{{ question.id }}" class="form-control" value="{{ question.option_1 }}" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="option_2_{{ question.id }}">Option 2:</label>
                                    <input type="text" id="option_2_{{ question.id }}" name="option_2_{{ question.id }}" class="form-control" value="{{ question.option_2 }}" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="option_3_{{ question.id }}">Option 3:</label>
                                    <input type="text" id="option_3_{{ question.id }}" name="option_3_{{ question.id }}" class="form-control" value="{{ question.option_3 }}" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="option_4_{{ question.id }}">Option 4:</label>
                                    <input type="text" id="option_4_{{ question.id }}" name="option_4_{{ question.id }}" class="form-control" value="{{ question.option_4 }}" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="correct_option_{{ question.id }}" class="font-weight-bold">Correct Option (1-4):</label>
                            <input type="number" id="correct_option_{{ question.id }}" name="correct_option_{{ question.id }}" class="form-control" value="{{ question.correct_option }}" min="1" max="4" required>
                        </div>
                    </div>
                    <hr class="mb-4">
                {% endfor %}
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-success btn-lg">Save Changes</button>
            </div>
        </form>
    </div>
{% endblock %}

{% block style %}
<style>
    .edit-quiz-form {
        background-color: #f9f9f9;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .edit-quiz-form .form-group {
        margin-bottom: 20px;
    }

    .edit-quiz-form label {
        font-size: 16px;
        font-weight: bold;
    }

    .question-group {
        background-color: #ffffff;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .question-group textarea {
        height: 100px;
        resize: none;
    }

    .question-group .form-row {
        margin-bottom: 15px;
    }

    .form-row .form-group {
        margin-bottom: 10px;
    }

    .btn-lg {
        padding: 12px 30px;
        font-size: 18px;
    }

    hr {
        border-top: 2px solid #ddd;
    }

    .questions-section h3 {
        font-size: 1.5rem;
        font-weight: bold;
    }

    .container {
        max-width: 1200px;
    }

</style>
{% endblock %}
